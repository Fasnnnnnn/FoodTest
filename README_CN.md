# AI食物卡路里识别网站

一个基于Web的AI食物识别应用，可以通过拍照或上传图片自动识别食物并计算卡路里含量。

## 🚀 功能特性

- 📸 **拍照识别**：直接使用手机或电脑摄像头拍照识别
- 📁 **图片上传**：支持拖拽或点击上传图片
- 🤖 **AI识别**：智能识别食物种类和份量
- 📊 **营养分析**：显示详细的卡路里和营养信息
- 📈 **历史记录**：自动保存识别历史，方便查看
- 📱 **响应式设计**：完美适配手机、平板和电脑

## 🛠️ 技术架构

### 前端技术栈
- **HTML5**：语义化结构
- **CSS3**：现代化样式，Flexbox/Grid布局
- **JavaScript ES6+**：现代JavaScript特性
- **响应式设计**：移动端优先设计
- **Web APIs**：getUserMedia、FileReader、localStorage
- **AI技术**：魔塔社区AI API + 智能模拟识别（回退方案）

### 核心功能实现
- **AI识别**：魔塔社区AI API + 智能模拟识别（无需外部API，可回退）
- **图片处理**：File API和Canvas API
- **相机访问**：getUserMedia API
- **本地存储**：localStorage保存历史记录
- **拖拽上传**：Drag and Drop API
- **错误处理**：网络错误重试机制


## 🎯 使用指南

### 基本使用

1. **上传图片**
   - 点击"选择图片"按钮
   - 或将图片拖拽到上传区域
   - 支持 JPG、PNG、WEBP 格式

2. **拍照识别**
   - 点击"拍照识别"按钮
   - 允许浏览器访问相机
   - 对准食物拍照

3. **查看结果**
   - 等待AI识别完成
   - 查看食物名称、描述和营养信息
   - 点击"保存记录"保存到历史

4. **查看历史**
   - 在页面底部查看识别历史
   - 点击历史记录可重新查看详情

### 食物数据库

当前支持识别的食物包括：
- 🍎 苹果、🍌 香蕉、🍚 白米饭
- 🐔 鸡胸肉、🥦 西兰花、🥚 鸡蛋
- 🍞 全麦面包、🐟 三文鱼、🥑 牛油果
- 🥛 酸奶等

## 🔧 自定义和扩展

### 添加新食物

在 `app.js` 的 `foodDatabase` 中添加新食物：

```javascript
const foodDatabase = {
    'newfood': {
        name: '新食物名称',
        calories: 100,      // 每100g的卡路里
        protein: 5,         // 蛋白质(g)
        carbs: 20,          // 碳水化合物(g)
        fat: 3,             // 脂肪(g)
        description: '食物描述'
    }
};
```


## 📊 性能优化

### 图片优化
- 自动压缩大图片
- 限制上传文件大小（建议<5MB）
- 使用WebP格式减少文件大小

### 缓存策略
- 本地存储历史记录
- 图片懒加载
- 结果缓存避免重复识别

## 🌐 浏览器兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+
- ✅ 移动端浏览器

## 📝 开发计划

### ✅ 已完成功能
- [x] 项目基础结构搭建
- [x] 响应式UI设计
- [x] 图片上传和拍照功能
- [x] 基础食物数据库
- [x] 历史记录功能
- [x] **魔塔社区AI API集成**（真实AI识别）
- [x] **智能模拟识别**（回退方案）
- [x] 错误处理和加载状态
- [x] API配置管理
- [x] 智能回退机制

### 🚀 即将推出
- [ ] 食物分量估算
- [ ] 营养成分图表
- [ ] 用户偏好设置
- [ ] 多语言支持
- [ ] 离线模式
- [ ] 数据导出功能


## 📄 许可证

MIT License - 详见 LICENSE 文件


---

**享受健康饮食，从AI识别开始！** 🥗✨
