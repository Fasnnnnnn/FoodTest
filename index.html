<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI食物卡路里识别</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1><i class="fas fa-brain"></i> AI食物卡路里识别</h1>
            <p>智能识别食物 · 精准计算营养 · 健康生活从此开始</p>
        </header>

        <main class="main-content">
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>拖拽图片或点击上传</h3>
                    <p>支持 JPG、PNG、WEBP 格式，AI智能分析营养成分</p>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-upload"></i> 上传食物图片
                    </button>
                </div>

                <div class="camera-section">
                    <button class="btn btn-secondary" id="cameraBtn">
                        <i class="fas fa-camera"></i> 实时拍照识别
                    </button>
                    <video id="video" autoplay muted style="display: none;"></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                </div>
            </div>

            <div class="preview-section" id="previewSection" style="display: none;">
                <h3><i class="fas fa-eye"></i> 图片预览</h3>
                <img id="previewImage" alt="预览图片">
                <button class="btn btn-primary" id="analyzeBtn">
                    <i class="fas fa-magic"></i> AI智能分析
                </button>
            </div>

            <div class="loading-section" id="loadingSection" style="display: none;">
                <div class="spinner"></div>
                <p>DeepSeek AI 正在深度分析食物营养成分...</p>
            </div>

            <div class="results-section" id="resultsSection" style="display: none;">
                <h3><i class="fas fa-chart-pie"></i> 营养成分分析结果</h3>
                <div class="food-info">
                    <div class="food-image">
                        <img id="resultImage" alt="识别图片">
                    </div>
                    <div class="food-details">
                        <h4 id="foodName">食物名称</h4>
                        <p id="foodDescription">AI智能识别结果，为您提供详细的营养分析</p>
                        <div class="nutrition-info">
                            <div class="nutrition-item">
                                <span class="label">卡路里</span>
                                <span class="value" id="calories">0</span>
                                <span class="unit">kcal</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="label">蛋白质</span>
                                <span class="value" id="protein">0</span>
                                <span class="unit">g</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="label">碳水化合物</span>
                                <span class="value" id="carbs">0</span>
                                <span class="unit">g</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="label">脂肪</span>
                                <span class="value" id="fat">0</span>
                                <span class="unit">g</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-secondary" id="saveBtn">
                    <i class="fas fa-heart"></i> 加入健康档案
                </button>
            </div>

            <div class="history-section">
                <h3><i class="fas fa-history"></i> 健康档案</h3>
                <div id="historyList" class="history-list">
                    <p class="no-history">🌟 开始您的健康饮食之旅吧！上传第一张食物图片</p>
                </div>
            </div>
        </main>
    </div>

    <script src="api-config.js"></script>
    <script src="app.js"></script>
</body>
</html>